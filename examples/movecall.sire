val N is 10:

server Store() is
  interface(call 
      read(val i, var v), 
      write(val i, val v), 
      apply(process f(var[n] a, val n))
  ):
{ var[N] a:
  alt 
  { accept read(val i, var v):  v := a[i]
  | accept write(val i, val v): a[i] := v } 
  | accept apply(process f(var[n] a, val  n)): f(a, N) }
:

function foo(var[n] a, val n) is
  seq [i=0 for n]: a[i] := 0
:

s is Store():
var v:
seq [i=0 for N]: s.write(i, 1);
s.apply(foo)

